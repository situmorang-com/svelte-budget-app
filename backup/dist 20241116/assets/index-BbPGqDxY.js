(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}})();const Vr=!1;var On=Array.isArray,At=Array.from,Wr=Object.defineProperty,fn=Object.getOwnPropertyDescriptor,Pn=Object.getOwnPropertyDescriptors,wt=Object.getPrototypeOf;const Be=()=>{};function Hr(e){return e()}function bt(e){for(var t=0;t<e.length;t++)e[t]()}const le=2,An=4,He=8,Bt=16,ne=32,it=64,Se=128,nt=256,H=512,pe=1024,Ke=2048,ae=4096,Ge=8192,Kr=16384,Nt=32768,Gr=1<<18,Bn=1<<19,dn=Symbol("$state"),Jr=Symbol("");function Nn(e){return e===this.v}function Mn(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function qn(e){return!Mn(e,this.v)}function Ur(e){throw new Error("effect_in_teardown")}function Yr(){throw new Error("effect_in_unowned_derived")}function Qr(e){throw new Error("effect_orphan")}function zr(){throw new Error("effect_update_depth_exceeded")}function Xr(){throw new Error("state_unsafe_local_read")}function Zr(){throw new Error("state_unsafe_mutation")}function rt(e){return{f:0,v:e,reactions:null,equals:Nn,version:0}}function Mt(e,t=!1){var r;const n=rt(e);return t||(n.equals=qn),C!==null&&C.l!==null&&((r=C.l).s??(r.s=[])).push(n),n}function O(e,t=!1){return eo(Mt(e,t))}function eo(e){return T!==null&&T.f&le&&(te===null?vo([e]):te.push(e)),e}function f(e,t){return T!==null&&at()&&T.f&(le|Bt)&&(te===null||!te.includes(e))&&Zr(),mt(e,t)}function mt(e,t){return e.equals(t)||(e.v=t,e.version=ar(),Rn(e,pe),at()&&E!==null&&E.f&H&&!(E.f&ne)&&(q!==null&&q.includes(e)?(re(E,pe),ut(E)):ve===null?po([e]):ve.push(e))),t}function Rn(e,t){var n=e.reactions;if(n!==null)for(var r=at(),o=n.length,s=0;s<o;s++){var i=n[s],c=i.f;c&pe||!r&&i===E||(re(i,t),c&(H|Se)&&(c&le?Rn(i,Ke):ut(i)))}}const qt=1,Rt=2,jn=4,to=8,no=16,ro=2;let Fn=!1;var vn,$n,Vn;function oo(){if(vn===void 0){vn=window;var e=Element.prototype,t=Node.prototype;$n=fn(t,"firstChild").get,Vn=fn(t,"nextSibling").get,e.__click=void 0,e.__className="",e.__attributes=null,e.__styles=null,e.__e=void 0,Text.prototype.__t=void 0}}function jt(e=""){return document.createTextNode(e)}function Wn(e){return $n.call(e)}function Ft(e){return Vn.call(e)}function k(e,t){return Wn(e)}function b(e,t=1,n=!1){let r=e;for(;t--;)r=Ft(r);return r}function so(e){e.textContent=""}function Hn(e){var t=le|pe;E===null?t|=Se:E.f|=Bn;const n={children:null,ctx:C,deps:null,equals:Nn,f:t,fn:e,reactions:null,v:null,version:0,parent:E};if(T!==null&&T.f&le){var r=T;(r.children??(r.children=[])).push(n)}return n}function io(e){const t=Hn(e);return t.equals=qn,t}function Kn(e){var t=e.children;if(t!==null){e.children=null;for(var n=0;n<t.length;n+=1){var r=t[n];r.f&le?$t(r):Te(r)}}}function Gn(e){var t,n=E;he(e.parent);try{Kn(e),t=lr(e)}finally{he(n)}return t}function Jn(e){var t=Gn(e),n=(Ae||e.f&Se)&&e.deps!==null?Ke:H;re(e,n),e.equals(t)||(e.v=t,e.version=ar())}function $t(e){Kn(e),We(e,0),re(e,Ge),e.v=e.children=e.deps=e.ctx=e.reactions=null}function Un(e){E===null&&T===null&&Qr(),T!==null&&T.f&Se&&Yr(),Ht&&Ur()}function ao(e,t){var n=t.last;n===null?t.last=t.first=e:(n.next=e,e.prev=n,t.last=e)}function Me(e,t,n,r=!0){var o=(e&it)!==0,s=E,i={ctx:C,deps:null,deriveds:null,nodes_start:null,nodes_end:null,f:e|pe,first:null,fn:t,last:null,next:null,parent:o?null:s,prev:null,teardown:null,transitions:null,version:0};if(n){var c=Ne;try{pn(!0),lt(i),i.f|=Kr}catch(w){throw Te(i),w}finally{pn(c)}}else t!==null&&ut(i);var d=n&&i.deps===null&&i.first===null&&i.nodes_start===null&&i.teardown===null&&(i.f&Bn)===0;if(!d&&!o&&r&&(s!==null&&ao(i,s),T!==null&&T.f&le)){var p=T;(p.children??(p.children=[])).push(i)}return i}function Yn(e){const t=Me(He,null,!1);return re(t,H),t.teardown=e,t}function kt(e){Un();var t=E!==null&&(E.f&ne)!==0&&C!==null&&!C.m;if(t){var n=C;(n.e??(n.e=[])).push({fn:e,effect:E,reaction:T})}else{var r=Qn(e);return r}}function lo(e){return Un(),zn(e)}function uo(e){const t=Me(it,e,!0);return()=>{Te(t)}}function Qn(e){return Me(An,e,!1)}function zn(e){return Me(He,e,!0)}function R(e){return Vt(e)}function Vt(e,t=0){return Me(He|Bt|t,e,!0)}function Ve(e,t=!0){return Me(He|ne,e,!0,t)}function Xn(e){var t=e.teardown;if(t!==null){const n=Ht,r=T;_n(!0),_e(null);try{t.call(null)}finally{_n(n),_e(r)}}}function Zn(e){var t=e.deriveds;if(t!==null){e.deriveds=null;for(var n=0;n<t.length;n+=1)$t(t[n])}}function er(e,t=!1){var n=e.first;for(e.first=e.last=null;n!==null;){var r=n.next;Te(n,t),n=r}}function co(e){for(var t=e.first;t!==null;){var n=t.next;t.f&ne||Te(t),t=n}}function Te(e,t=!0){var n=!1;if((t||e.f&Gr)&&e.nodes_start!==null){for(var r=e.nodes_start,o=e.nodes_end;r!==null;){var s=r===o?null:Ft(r);r.remove(),r=s}n=!0}er(e,t&&!n),Zn(e),We(e,0),re(e,Ge);var i=e.transitions;if(i!==null)for(const d of i)d.stop();Xn(e);var c=e.parent;c!==null&&c.first!==null&&tr(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.parent=e.fn=e.nodes_start=e.nodes_end=null}function tr(e){var t=e.parent,n=e.prev,r=e.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),t!==null&&(t.first===e&&(t.first=r),t.last===e&&(t.last=n))}function xt(e,t){var n=[];Wt(e,n,!0),nr(n,()=>{Te(e),t&&t()})}function nr(e,t){var n=e.length;if(n>0){var r=()=>--n||t();for(var o of e)o.out(r)}else t()}function Wt(e,t,n){if(!(e.f&ae)){if(e.f^=ae,e.transitions!==null)for(const i of e.transitions)(i.is_global||n)&&t.push(i);for(var r=e.first;r!==null;){var o=r.next,s=(r.f&Nt)!==0||(r.f&ne)!==0;Wt(r,t,s?n:!1),r=o}}}function ot(e){rr(e,!0)}function rr(e,t){if(e.f&ae){e.f^=ae,Je(e)&&lt(e);for(var n=e.first;n!==null;){var r=n.next,o=(n.f&Nt)!==0||(n.f&ne)!==0;rr(n,o?t:!1),n=r}if(e.transitions!==null)for(const s of e.transitions)(s.is_global||t)&&s.in()}}let Et=!1,St=[];function fo(){Et=!1;const e=St.slice();St=[],bt(e)}function or(e){Et||(Et=!0,queueMicrotask(fo)),St.push(e)}function sr(e){throw new Error("lifecycle_outside_component")}let st=!1,Ne=!1,Ht=!1;function pn(e){Ne=e}function _n(e){Ht=e}let Tt=[],$e=0;let T=null;function _e(e){T=e}let E=null;function he(e){E=e}let te=null;function vo(e){te=e}let q=null,G=0,ve=null;function po(e){ve=e}let ir=0,Ae=!1,C=null;function ar(){return++ir}function at(){return C!==null&&C.l===null}function Je(e){var i,c;var t=e.f;if(t&pe)return!0;if(t&Ke){var n=e.deps,r=(t&Se)!==0;if(n!==null){var o;if(t&nt){for(o=0;o<n.length;o++)((i=n[o]).reactions??(i.reactions=[])).push(e);e.f^=nt}for(o=0;o<n.length;o++){var s=n[o];if(Je(s)&&Jn(s),r&&E!==null&&!Ae&&!((c=s==null?void 0:s.reactions)!=null&&c.includes(e))&&(s.reactions??(s.reactions=[])).push(e),s.version>e.version)return!0}}r||re(e,H)}return!1}function _o(e,t,n){throw e}function lr(e){var g;var t=q,n=G,r=ve,o=T,s=Ae,i=te,c=C,d=e.f;q=null,G=0,ve=null,T=d&(ne|it)?null:e,Ae=!Ne&&(d&Se)!==0,te=null,C=e.ctx;try{var p=(0,e.fn)(),w=e.deps;if(q!==null){var _;if(We(e,G),w!==null&&G>0)for(w.length=G+q.length,_=0;_<q.length;_++)w[G+_]=q[_];else e.deps=w=q;if(!Ae)for(_=G;_<w.length;_++)((g=w[_]).reactions??(g.reactions=[])).push(e)}else w!==null&&G<w.length&&(We(e,G),w.length=G);return p}finally{q=t,G=n,ve=r,T=o,Ae=s,te=i,C=c}}function ho(e,t){let n=t.reactions;if(n!==null){var r=n.indexOf(e);if(r!==-1){var o=n.length-1;o===0?n=t.reactions=null:(n[r]=n[o],n.pop())}}n===null&&t.f&le&&(q===null||!q.includes(t))&&(re(t,Ke),t.f&(Se|nt)||(t.f^=nt),We(t,0))}function We(e,t){var n=e.deps;if(n!==null)for(var r=t;r<n.length;r++)ho(e,n[r])}function lt(e){var t=e.f;if(!(t&Ge)){re(e,H);var n=E;E=e;try{t&Bt?co(e):er(e),Zn(e),Xn(e);var r=lr(e);e.teardown=typeof r=="function"?r:null,e.version=ir}catch(o){_o(o)}finally{E=n}}}function yo(){$e>1e3&&($e=0,zr()),$e++}function go(e){var t=e.length;if(t!==0){yo();var n=Ne;Ne=!0;try{for(var r=0;r<t;r++){var o=e[r];o.f&H||(o.f^=H);var s=[];ur(o,s),wo(s)}}finally{Ne=n}}}function wo(e){var t=e.length;if(t!==0)for(var n=0;n<t;n++){var r=e[n];!(r.f&(Ge|ae))&&Je(r)&&(lt(r),r.deps===null&&r.first===null&&r.nodes_start===null&&(r.teardown===null?tr(r):r.fn=null))}}function bo(){if(st=!1,$e>1001)return;const e=Tt;Tt=[],go(e),st||($e=0)}function ut(e){st||(st=!0,queueMicrotask(bo));for(var t=e;t.parent!==null;){t=t.parent;var n=t.f;if(n&(it|ne)){if(!(n&H))return;t.f^=H}}Tt.push(t)}function ur(e,t){var n=e.first,r=[];e:for(;n!==null;){var o=n.f,s=(o&ne)!==0,i=s&&(o&H)!==0;if(!i&&!(o&ae))if(o&He){s?n.f^=H:Je(n)&&lt(n);var c=n.first;if(c!==null){n=c;continue}}else o&An&&r.push(n);var d=n.next;if(d===null){let _=n.parent;for(;_!==null;){if(e===_)break e;var p=_.next;if(p!==null){n=p;continue e}_=_.parent}}n=d}for(var w=0;w<r.length;w++)c=r[w],t.push(c),ur(c,t)}function l(e){var c;var t=e.f,n=(t&le)!==0;if(n&&t&Ge){var r=Gn(e);return $t(e),r}if(T!==null){te!==null&&te.includes(e)&&Xr();var o=T.deps;q===null&&o!==null&&o[G]===e?G++:q===null?q=[e]:q.push(e),ve!==null&&E!==null&&E.f&H&&!(E.f&ne)&&ve.includes(e)&&(re(E,pe),ut(E))}else if(n&&e.deps===null){var s=e,i=s.parent;i!==null&&!((c=i.deriveds)!=null&&c.includes(s))&&(i.deriveds??(i.deriveds=[])).push(s)}return n&&(s=e,Je(s)&&Jn(s)),e.v}function ct(e){const t=T;try{return T=null,e()}finally{T=t}}const mo=~(pe|Ke|H);function re(e,t){e.f=e.f&mo|t}function cr(e,t=!1,n){C={p:C,c:null,e:null,m:!1,s:e,x:null,l:null},t||(C.l={s:null,u:null,r1:[],r2:rt(!1)})}function fr(e){const t=C;if(t!==null){const i=t.e;if(i!==null){var n=E,r=T;t.e=null;try{for(var o=0;o<i.length;o++){var s=i[o];he(s.effect),_e(s.reaction),Qn(s.fn)}}finally{he(n),_e(r)}}C=t.p,t.m=!0}return{}}function ko(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(dn in e)Dt(e);else if(!Array.isArray(e))for(let t in e){const n=e[t];typeof n=="object"&&n&&dn in n&&Dt(n)}}}function Dt(e,t=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!t.has(e)){t.add(e),e instanceof Date&&e.getTime();for(let r in e)try{Dt(e[r],t)}catch{}const n=wt(e);if(n!==Object.prototype&&n!==Array.prototype&&n!==Map.prototype&&n!==Set.prototype&&n!==Date.prototype){const r=Pn(n);for(let o in r){const s=r[o].get;if(s)try{s.call(e)}catch{}}}}}const xo=new Set,hn=new Set;function Eo(e,t,n,r){function o(s){if(r.capture||Fe.call(t,s),!s.cancelBubble){var i=T,c=E;_e(null),he(null);try{return n.call(this,s)}finally{_e(i),he(c)}}}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?or(()=>{t.addEventListener(e,o,r)}):t.addEventListener(e,o,r),o}function S(e,t,n,r,o){var s={capture:r,passive:o},i=Eo(e,t,n,s);(t===document.body||t===window||t===document)&&Yn(()=>{t.removeEventListener(e,i,s)})}function Fe(e){var U;var t=this,n=t.ownerDocument,r=e.type,o=((U=e.composedPath)==null?void 0:U.call(e))||[],s=o[0]||e.target,i=0,c=e.__root;if(c){var d=o.indexOf(c);if(d!==-1&&(t===document||t===window)){e.__root=t;return}var p=o.indexOf(t);if(p===-1)return;d<=p&&(i=d)}if(s=o[i]||e.target,s!==t){Wr(e,"currentTarget",{configurable:!0,get(){return s||n}});var w=T,_=E;_e(null),he(null);try{for(var g,y=[];s!==null;){var h=s.assignedSlot||s.parentNode||s.host||null;try{var I=s["__"+r];if(I!==void 0&&!s.disabled)if(On(I)){var[j,...J]=I;j.apply(s,[e,...J])}else I.call(s,e)}catch(m){g?y.push(m):g=m}if(e.cancelBubble||h===t||h===null)break;s=h}if(g){for(let m of y)queueMicrotask(()=>{throw m});throw g}}finally{e.__root=t,delete e.currentTarget,_e(w),he(_)}}}function So(e){var t=document.createElement("template");return t.innerHTML=e,t.content}function dr(e,t){var n=E;n.nodes_start===null&&(n.nodes_start=e,n.nodes_end=t)}function A(e,t){var n=(t&ro)!==0,r,o=!e.startsWith("<!>");return()=>{r===void 0&&(r=So(o?e:"<!>"+e),r=Wn(r));var s=n?document.importNode(r,!0):r.cloneNode(!0);return dr(s,s),s}}function To(e=""){{var t=jt(e+"");return dr(t,t),t}}function P(e,t){e!==null&&e.before(t)}const Do=["touchstart","touchmove"];function Io(e){return Do.includes(e)}function K(e,t){var n=t==null?"":typeof t=="object"?t+"":t;n!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=n,e.nodeValue=n==null?"":n+"")}function Co(e,t){return Lo(e,t)}const Oe=new Map;function Lo(e,{target:t,anchor:n,props:r={},events:o,context:s,intro:i=!0}){oo();var c=new Set,d=_=>{for(var g=0;g<_.length;g++){var y=_[g];if(!c.has(y)){c.add(y);var h=Io(y);t.addEventListener(y,Fe,{passive:h});var I=Oe.get(y);I===void 0?(document.addEventListener(y,Fe,{passive:h}),Oe.set(y,1)):Oe.set(y,I+1)}}};d(At(xo)),hn.add(d);var p=void 0,w=uo(()=>{var _=n??t.appendChild(jt());return Ve(()=>{if(s){cr({});var g=C;g.c=s}o&&(r.$$events=o),p=e(_,r)||{},s&&fr()}),()=>{var h;for(var g of c){t.removeEventListener(g,Fe);var y=Oe.get(g);--y===0?(document.removeEventListener(g,Fe),Oe.delete(g)):Oe.set(g,y)}hn.delete(d),yn.delete(p),_!==n&&((h=_.parentNode)==null||h.removeChild(_))}});return yn.set(p,w),p}let yn=new WeakMap;function W(e,t,n,r=null,o=!1){var s=e,i=null,c=null,d=null,p=o?Nt:0;Vt(()=>{d!==(d=!!t())&&(d?(i?ot(i):i=Ve(()=>n(s)),c&&xt(c,()=>{c=null})):(c?ot(c):r&&(c=Ve(()=>r(s))),i&&xt(i,()=>{i=null})))},p)}let _t=null;function me(e,t){return t}function Oo(e,t,n,r){for(var o=[],s=t.length,i=0;i<s;i++)Wt(t[i].e,o,!0);var c=s>0&&o.length===0&&n!==null;if(c){var d=n.parentNode;so(d),d.append(n),r.clear(),de(e,t[0].prev,t[s-1].next)}nr(o,()=>{for(var p=0;p<s;p++){var w=t[p];c||(r.delete(w.k),de(e,w.prev,w.next)),Te(w.e,!c)}})}function ke(e,t,n,r,o,s=null){var i=e,c={flags:t,items:new Map,first:null},d=(t&jn)!==0;if(d){var p=e;i=p.appendChild(jt())}var w=null,_=!1;Vt(()=>{var g=n(),y=On(g)?g:g==null?[]:At(g),h=y.length;_&&h===0||(_=h===0,Po(y,c,i,o,t,r),s!==null&&(h===0?w?ot(w):w=Ve(()=>s(i)):w!==null&&xt(w,()=>{w=null})),n())})}function Po(e,t,n,r,o,s){var be,Ie,Ce,X;var i=(o&to)!==0,c=(o&(qt|Rt))!==0,d=e.length,p=t.items,w=t.first,_=w,g,y=null,h,I=[],j=[],J,U,m,D;if(i)for(D=0;D<d;D+=1)J=e[D],U=s(J,D),m=p.get(U),m!==void 0&&((be=m.a)==null||be.measure(),(h??(h=new Set)).add(m));for(D=0;D<d;D+=1){if(J=e[D],U=s(J,D),m=p.get(U),m===void 0){var ye=_?_.e.nodes_start:n;y=Bo(ye,t,y,y===null?t.first:y.next,J,U,D,r,o),p.set(U,y),I=[],j=[],_=y.next;continue}if(c&&Ao(m,J,D,o),m.e.f&ae&&(ot(m.e),i&&((Ie=m.a)==null||Ie.unfix(),(h??(h=new Set)).delete(m))),m!==_){if(g!==void 0&&g.has(m)){if(I.length<j.length){var ue=j[0],F;y=ue.prev;var De=I[0],oe=I[I.length-1];for(F=0;F<I.length;F+=1)gn(I[F],ue,n);for(F=0;F<j.length;F+=1)g.delete(j[F]);de(t,De.prev,oe.next),de(t,y,De),de(t,oe,ue),_=ue,y=oe,D-=1,I=[],j=[]}else g.delete(m),gn(m,_,n),de(t,m.prev,m.next),de(t,m,y===null?t.first:y.next),de(t,y,m),y=m;continue}for(I=[],j=[];_!==null&&_.k!==U;)_.e.f&ae||(g??(g=new Set)).add(_),j.push(_),_=_.next;if(_===null)continue;m=_}I.push(m),y=m,_=m.next}if(_!==null||g!==void 0){for(var se=g===void 0?[]:At(g);_!==null;)_.e.f&ae||se.push(_),_=_.next;var ge=se.length;if(ge>0){var we=o&jn&&d===0?n:null;if(i){for(D=0;D<ge;D+=1)(Ce=se[D].a)==null||Ce.measure();for(D=0;D<ge;D+=1)(X=se[D].a)==null||X.fix()}Oo(t,se,we,p)}}i&&or(()=>{var Ue;if(h!==void 0)for(m of h)(Ue=m.a)==null||Ue.apply()}),E.first=t.first&&t.first.e,E.last=y&&y.e}function Ao(e,t,n,r){r&qt&&mt(e.v,t),r&Rt?mt(e.i,n):e.i=n}function Bo(e,t,n,r,o,s,i,c,d){var p=_t;try{var w=(d&qt)!==0,_=(d&no)===0,g=w?_?Mt(o):rt(o):o,y=d&Rt?rt(i):i,h={i:y,v:g,k:s,a:null,e:null,prev:n,next:r};return _t=h,h.e=Ve(()=>c(e,g,y),Fn),h.e.prev=n&&n.e,h.e.next=r&&r.e,n===null?t.first=h:(n.next=h,n.e.next=h.e),r!==null&&(r.prev=h,r.e.prev=h.e),h}finally{_t=p}}function gn(e,t,n){for(var r=e.next?e.next.e.nodes_start:n,o=t?t.e.nodes_start:n,s=e.e.nodes_start;s!==r;){var i=Ft(s);o.before(s),s=i}}function de(e,t,n){t===null?e.first=n:(t.next=n,t.e.next=n&&n.e),n!==null&&(n.prev=t,n.e.prev=t&&t.e)}let wn=!1;function No(){wn||(wn=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{var t;if(!e.defaultPrevented)for(const n of e.target.elements)(t=n.__on_r)==null||t.call(n)})},{capture:!0}))}function bn(e,t,n,r){var o=e.__attributes??(e.__attributes={});o[t]!==(o[t]=n)&&(t==="style"&&"__styles"in e&&(e.__styles={}),t==="loading"&&(e[Jr]=n),n==null?e.removeAttribute(t):typeof n!="string"&&Mo(e).includes(t)?e[t]=n:e.setAttribute(t,n))}var mn=new Map;function Mo(e){var t=mn.get(e.nodeName);if(t)return t;mn.set(e.nodeName,t=[]);for(var n,r=wt(e),o=Element.prototype;o!==r;){n=Pn(r);for(var s in n)n[s].set&&t.push(s);r=wt(r)}return t}function ht(e,t){var n=e.__className,r=qo(t);(n!==r||Fn)&&(t==null?e.removeAttribute("class"):e.className=r,e.__className=r)}function qo(e){return e??""}function Ro(e,t,n){if(n){if(e.classList.contains(t))return;e.classList.add(t)}else{if(!e.classList.contains(t))return;e.classList.remove(t)}}function jo(e,t,n,r=n){e.addEventListener(t,n);const o=e.__on_r;o?e.__on_r=()=>{o(),r()}:e.__on_r=r,No()}function xe(e,t,n=t){var r=at();jo(e,"input",()=>{var o=kn(e)?xn(e.value):e.value;n(o),r&&o!==(o=t())&&(e.value=o??"")}),zn(()=>{var o=t();kn(e)&&o===xn(e.value)||e.type==="date"&&!o&&!e.value||o!==e.value&&(e.value=o??"")})}function kn(e){var t=e.type;return t==="number"||t==="range"}function xn(e){return e===""?null:+e}function Fo(e=!1){const t=C,n=t.l.u;if(!n)return;let r=()=>ko(t.s);if(e){let o=0,s={};const i=Hn(()=>{let c=!1;const d=t.s;for(const p in d)d[p]!==s[p]&&(s[p]=d[p],c=!0);return c&&o++,o});r=()=>l(i)}n.b.length&&lo(()=>{En(t,r),bt(n.b)}),kt(()=>{const o=ct(()=>n.m.map(Hr));return()=>{for(const s of o)typeof s=="function"&&s()}}),n.a.length&&kt(()=>{En(t,r),bt(n.a)})}function En(e,t){if(e.l.s)for(const n of e.l.s)l(n);t()}function $o(e,t,n){if(e==null)return t(void 0),Be;const r=ct(()=>e.subscribe(t,n));return r.unsubscribe?()=>r.unsubscribe():r}function Vo(e,t,n){const r=n[t]??(n[t]={store:null,source:Mt(void 0),unsubscribe:Be});if(r.store!==e)if(r.unsubscribe(),r.store=e??null,e==null)r.source.v=void 0,r.unsubscribe=Be;else{var o=!0;r.unsubscribe=$o(e,s=>{o?r.source.v=s:f(r.source,s)}),o=!1}return l(r.source)}function Wo(){const e={};return Yn(()=>{for(var t in e)e[t].unsubscribe()}),e}function tt(e){C===null&&sr(),C.l!==null?Ho(C).m.push(e):kt(()=>{const t=ct(e);if(typeof t=="function")return t})}function Sn(e){C===null&&sr(),tt(()=>()=>ct(e))}function Ho(e){var t=e.l;return t.u??(t.u={a:[],b:[],m:[]})}const Ko="5";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Ko);const It=(e,t)=>t.some(n=>e instanceof n);let Tn,Dn;function Go(){return Tn||(Tn=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Jo(){return Dn||(Dn=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Ct=new WeakMap,yt=new WeakMap,ft=new WeakMap;function Uo(e){const t=new Promise((n,r)=>{const o=()=>{e.removeEventListener("success",s),e.removeEventListener("error",i)},s=()=>{n(Ee(e.result)),o()},i=()=>{r(e.error),o()};e.addEventListener("success",s),e.addEventListener("error",i)});return ft.set(t,e),t}function Yo(e){if(Ct.has(e))return;const t=new Promise((n,r)=>{const o=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",i),e.removeEventListener("abort",i)},s=()=>{n(),o()},i=()=>{r(e.error||new DOMException("AbortError","AbortError")),o()};e.addEventListener("complete",s),e.addEventListener("error",i),e.addEventListener("abort",i)});Ct.set(e,t)}let Lt={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return Ct.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ee(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function vr(e){Lt=e(Lt)}function Qo(e){return Jo().includes(e)?function(...t){return e.apply(Ot(this),t),Ee(this.request)}:function(...t){return Ee(e.apply(Ot(this),t))}}function zo(e){return typeof e=="function"?Qo(e):(e instanceof IDBTransaction&&Yo(e),It(e,Go())?new Proxy(e,Lt):e)}function Ee(e){if(e instanceof IDBRequest)return Uo(e);if(yt.has(e))return yt.get(e);const t=zo(e);return t!==e&&(yt.set(e,t),ft.set(t,e)),t}const Ot=e=>ft.get(e);function Xo(e,t,{blocked:n,upgrade:r,blocking:o,terminated:s}={}){const i=indexedDB.open(e,t),c=Ee(i);return r&&i.addEventListener("upgradeneeded",d=>{r(Ee(i.result),d.oldVersion,d.newVersion,Ee(i.transaction),d)}),n&&i.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),c.then(d=>{s&&d.addEventListener("close",()=>s()),o&&d.addEventListener("versionchange",p=>o(p.oldVersion,p.newVersion,p))}).catch(()=>{}),c}const Zo=["get","getKey","getAll","getAllKeys","count"],es=["put","add","delete","clear"],gt=new Map;function In(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(gt.get(t))return gt.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,o=es.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(o||Zo.includes(n)))return;const s=async function(i,...c){const d=this.transaction(i,o?"readwrite":"readonly");let p=d.store;return r&&(p=p.index(c.shift())),(await Promise.all([p[n](...c),o&&d.done]))[0]};return gt.set(t,s),s}vr(e=>({...e,get:(t,n,r)=>In(t,n)||e.get(t,n,r),has:(t,n)=>!!In(t,n)||e.has(t,n)}));const ts=["continue","continuePrimaryKey","advance"],Cn={},Pt=new WeakMap,pr=new WeakMap,ns={get(e,t){if(!ts.includes(t))return e[t];let n=Cn[t];return n||(n=Cn[t]=function(...r){Pt.set(this,pr.get(this)[t](...r))}),n}};async function*rs(...e){let t=this;if(t instanceof IDBCursor||(t=await t.openCursor(...e)),!t)return;t=t;const n=new Proxy(t,ns);for(pr.set(n,t),ft.set(n,Ot(t));t;)yield n,t=await(Pt.get(n)||t.continue()),Pt.delete(n)}function Ln(e,t){return t===Symbol.asyncIterator&&It(e,[IDBIndex,IDBObjectStore,IDBCursor])||t==="iterate"&&It(e,[IDBIndex,IDBObjectStore])}vr(e=>({...e,get(t,n,r){return Ln(t,n)?rs:e.get(t,n,r)},has(t,n){return Ln(t,n)||e.has(t,n)}}));const Pe=[];function os(e,t=Be){let n=null;const r=new Set;function o(c){if(Mn(e,c)&&(e=c,n)){const d=!Pe.length;for(const p of r)p[1](),Pe.push(p,e);if(d){for(let p=0;p<Pe.length;p+=2)Pe[p][0](Pe[p+1]);Pe.length=0}}}function s(c){o(c(e))}function i(c,d=Be){const p=[c,d];return r.add(p),r.size===1&&(n=t(o,s)||Be),c(e),()=>{r.delete(p),r.size===0&&n&&(n(),n=null)}}return{set:o,update:s,subscribe:i}}var ss=A('<span style="color: red;" class="svelte-xe3ykv"> </span>'),is=A('<div class="notification svelte-xe3ykv">Item added to purchased list!</div>'),as=A('<button class="plus-button svelte-xe3ykv">+</button>'),ls=A('<button type="button" class="clear-btn svelte-xe3ykv">✕</button>'),us=A('<li class="svelte-xe3ykv"><button type="button" class="svelte-xe3ykv"> </button></li>'),cs=A('<ul class="dropdown svelte-xe3ykv"></ul>'),fs=A('<button type="button" class="clear-btn svelte-xe3ykv">✕</button>'),ds=A('<li class="svelte-xe3ykv"><button type="button" class="svelte-xe3ykv"> </button></li>'),vs=A('<ul class="dropdown svelte-xe3ykv"></ul>'),ps=A('<button class="svelte-xe3ykv">Add to Purchased List</button>'),_s=A("<button> </button>"),hs=A('<div class="calculator-row svelte-xe3ykv"></div>'),ys=A('<div class="calculator svelte-xe3ykv"><div class="calculator-grid svelte-xe3ykv"><!> <div class="calculator-row full-row svelte-xe3ykv"><button class="calc-button delete svelte-xe3ykv">⌫</button> <button class="calc-button action-button svelte-xe3ykv">OK</button></div></div></div>'),gs=A('<div class="input-section svelte-xe3ykv"><div class="input-wrapper svelte-xe3ykv"><label for="item-name" class="svelte-xe3ykv">Item Name:</label> <input type="text" id="item-name" placeholder="Type to search or add item" autocomplete="off" class="svelte-xe3ykv"> <!> <!></div> <div class="input-wrapper svelte-xe3ykv"><label for="category" class="svelte-xe3ykv">Category:</label> <input type="text" id="category" placeholder="Select or type category" autocomplete="off" class="svelte-xe3ykv"> <!> <!></div> <div class="input-row svelte-xe3ykv"><div class="input-wrapper svelte-xe3ykv" style="width: 65%;"><label for="price" class="svelte-xe3ykv">Price:</label> <input type="tel" id="price" readonly="" class="svelte-xe3ykv"></div> <div class="input-wrapper svelte-xe3ykv" style="width: 30%; margin-left: auto;"><label for="quantity" class="svelte-xe3ykv">Quantity:</label> <input type="number" id="quantity" min="1" class="svelte-xe3ykv"></div></div> <div class="input-wrapper svelte-xe3ykv"><label for="date" class="svelte-xe3ykv">Purchase Date:</label> <input type="date" id="date" class="svelte-xe3ykv"></div> <!> <!></div>'),ws=A('<div class="refresh-message svelte-xe3ykv"> </div>'),bs=A('<span class="quantity-box svelte-xe3ykv"> </span>'),ms=A('<button class="delete-btn svelte-xe3ykv">🗑️</button>'),ks=A('<div role="button" tabindex="0"><div class="item-content svelte-xe3ykv"><span class="item-number svelte-xe3ykv"></span> <span class="item-details svelte-xe3ykv"> </span> <!> <span class="item-price svelte-xe3ykv"> </span> <!></div></div>'),xs=A('<div class="purchase-group svelte-xe3ykv"><div class="purchase-header svelte-xe3ykv"><strong class="svelte-xe3ykv"> </strong> <span class="total-amount svelte-xe3ykv"> </span></div> <div class="purchased-items-list svelte-xe3ykv"></div></div>'),Es=A('<li class="svelte-xe3ykv"> </li>'),Ss=A('<div class="modal-overlay svelte-xe3ykv" role="dialog" aria-modal="true"><div class="modal-content svelte-xe3ykv" role="document" tabindex="0"><h3 class="svelte-xe3ykv">Set New Budget</h3> <input type="number" min="0" placeholder="Enter budget amount" class="svelte-xe3ykv"> <label for="budget-date" class="svelte-xe3ykv">Budget Date:</label> <input type="date" id="budget-date" class="svelte-xe3ykv"> <button class="svelte-xe3ykv">Add Budget</button> <h4 class="svelte-xe3ykv">Budget History</h4> <ul class="svelte-xe3ykv"></ul> <button aria-label="Close modal" class="svelte-xe3ykv">Close</button></div></div>'),Ts=A('<main class="svelte-xe3ykv"><h1 class="svelte-xe3ykv">Grocery</h1> <div class="budget-info svelte-xe3ykv" role="button" tabindex="0" aria-label="Open budget modal">Budget: <!></div> <!> <!> <!> <h2 class="svelte-xe3ykv">Purchased Items</h2> <!> <!> <!> <div> </div></main>');function Ds(e,t){cr(t,!1);const n=Wo(),r=()=>Vo(be,"$budgetTotal",n);let o=[],s=O([]),i=O(""),c=O(""),d=O(""),p=O(1),w=O(!1),_=O(!1),g=[],y=O([]),h=O([]),I=O(new Date().toISOString().split("T")[0]),j=O(!1),J=O(""),U=!1,m=O(!1),D=O(!0),ye=O(!1),ue=O({top:"0px",left:"0px"}),F=O(null),De=O(null),oe=O(!1),se=O(0),ge=O(new Date().toISOString().split("T")[0]),we=O([]),be=os(0),Ie=O(navigator.onLine);async function Ce(){try{const u=await(await fetch("/api/serve_groceries.php?t="+new Date().getTime(),{cache:"no-cache"})).json();if(!u.groceries)throw new Error("Groceries field is missing in response");o=u.groceries,o=o.sort((v,x)=>v.name.localeCompare(x.name)),g=Array.from(new Set(o.map(v=>v.category))).sort(),f(s,o),f(y,g)}catch(a){console.error("Failed to load groceries data:",a)}}async function X(){return Xo("budget-management",2,{upgrade(a,u,v,x){u<1&&a.createObjectStore("purchases",{keyPath:"id",autoIncrement:!0}),u<2&&a.createObjectStore("budget",{keyPath:"id",autoIncrement:!0}),a.objectStoreNames.contains("purchases")||a.createObjectStore("purchases",{keyPath:"id",autoIncrement:!0}),a.objectStoreNames.contains("groceries")||a.createObjectStore("groceries",{keyPath:"name"}),a.objectStoreNames.contains("budget")||a.createObjectStore("budget",{keyPath:"id",autoIncrement:!0})}})}async function Ue(){const a=await X();if(f(h,await a.getAll("purchases")),navigator.onLine)try{const v=await(await fetch("/api/get_purchases.php")).json();if(v.status==="success"){f(h,v.data);const x=a.transaction("purchases","readwrite");await x.objectStore("purchases").clear();for(const N of l(h))await x.objectStore("purchases").put(N);f(J,"Data has been successfully refreshed from the server."),setTimeout(()=>{f(J,"")},3e3)}}catch(u){console.error("Error fetching purchased items:",u)}}async function Kt(){if(navigator.onLine){const a=await X(),u=await a.getAll("groceries");for(const v of u)try{const N=await(await fetch("/api/update_groceries.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(v)})).json();N.status==="success"?(console.log(`Grocery item synced successfully: ${v.name}`),await a.delete("groceries",v.name)):console.error(`Failed to sync item ${v.name}:`,N.message)}catch(x){console.error("Error syncing grocery item:",x)}}else console.warn("Device is offline. Unable to sync groceries.")}async function _r(){const a=await getPendingTasks();for(const u of a)try{await u.execute(),console.log("Pending task processed:",u)}catch(v){console.error("Failed to process task:",u,v)}}tt(()=>(Kt(),Ce(),Ue(),hr(),Br(),en(),Ye(),window.addEventListener("online",Gt),window.addEventListener("offline",Ye),()=>{window.removeEventListener("online",Gt),window.removeEventListener("offline",Ye)}));function Gt(){console.log("Network status: Online. Syncing with server..."),Ye(),Kt(),Ce(),syncPurchasedItemsWithServer(),refetchData(),en(),_r()}function Ye(){f(Ie,navigator.onLine)}function hr(){f(h,l(h).sort((a,u)=>new Date(u.date)-new Date(a.date)))}function yr(){f(s,o),f(w,!0)}function gr(){f(y,g),f(_,!0)}function wr(){setTimeout(()=>{f(w,!1)},200)}function br(){setTimeout(()=>{f(_,!1)},200)}function mr(){l(i).trim()===""?f(s,o):f(s,o.filter(a=>a.name.toLowerCase().includes(l(i).toLowerCase()))),f(w,l(s).length>0)}function kr(){l(c).trim()===""?f(y,g):f(y,g.filter(a=>a.toLowerCase().includes(l(c).toLowerCase()))),f(_,l(y).length>0)}function xr(a){f(i,a),f(w,!1),Sr(a)}function Er(a){f(c,a),f(_,!1)}function Sr(a){const u=o.find(v=>v.name.toLowerCase()===a.toLowerCase());u?(f(i,u.name),f(c,u.category),f(d,u.price)):(f(c,""),f(d,"")),f(s,[])}async function Tr(){if(l(i)&&l(c)&&l(d)&&l(I)){f(D,!1);const a={name:l(i),category:l(c),price:parseFloat(l(d).replace(/,/g,""))||0,quantity:parseInt(l(p).toString(),10)||1,date:l(I)};if(!o.some(v=>v.name.toLowerCase()===l(i).toLowerCase())){try{const v={name:a.name,category:a.category,price:a.price};await(await X()).put("groceries",v),console.log(`Grocery item added locally: ${v.name}`)}catch(v){console.error("Error adding grocery to IndexedDB:",v)}try{const x=await(await fetch("/api/update_groceries.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:a.name,category:a.category,price:a.price})})).json();x.status==="success"?await Ce():console.error(x.message)}catch(v){console.error("Error adding item to groceries:",v)}}try{const v=await fetch("/api/add_purchase.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});await(await X()).put("purchases",a);const N=await v.text();console.log("Raw response:",N);const Y=JSON.parse(N);Y.status==="success"?console.log("Item added to SQLite database successfully!"):console.error(Y.message)}catch(v){console.error("Error adding item to database:",v)}f(h,[...l(h),a]),f(h,l(h).sort((v,x)=>new Date(x.date).getTime()-new Date(v.date).getTime())),dt(-a.price*a.quantity),f(i,""),f(c,""),f(d,""),f(p,1),f(I,new Date().toISOString().split("T")[0]),f(m,!1),f(ye,!1),f(j,!0),setTimeout(()=>{f(j,!1),f(D,!0)},3e3)}else alert("Please fill in all fields, including date.")}function Dr(a){return l(h).filter(u=>u.date===a).reduce((u,v)=>u+v.price*v.quantity,0).toFixed(2)}function Jt(a){f(F,l(F)===a?null:a),f(De,l(F))}function Ut(a){!a.target.closest(".purchased-item")&&!a.target.closest(".delete-btn")&&(f(F,null),f(De,null))}tt(()=>{document.addEventListener("click",Ut)}),Sn(()=>{document.removeEventListener("click",Ut)});async function Ir(a){try{f(h,l(h).filter(N=>N.id!==a));const v=await(await fetch("/api/delete_purchase.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:a})})).json();v.status==="success"?console.log("Item deleted successfully."):console.error(v.message),await(await X()).delete("purchases",a)}catch(u){console.error("Error deleting item:",u)}}function Cr(){return Array.from(new Set(l(h).map(a=>a.date))).sort((a,u)=>new Date(u)-new Date(a))}function Yt(a){return a.replace(/[^\d]/g,"").replace(/\B(?=(\d{3})+(?!\d))/g,",")}function Qt(a){a==="C"?f(d,""):a==="Del"?f(d,l(d).slice(0,-1)):a==="000"?f(d,l(d)+"000"):f(d,l(d)+a),f(d,Yt(l(d)))}function Lr(a){f(d,Yt(a.target.value))}function Or(a){f(ye,!0);const u=a.target.getBoundingClientRect(),v=document.querySelector(".input-section").getBoundingClientRect();f(ue,{top:`${u.bottom-v.top+10}px`,left:`${u.left-v.left}px`}),a.target.blur()}function zt(a){document.querySelector(".calculator"),!a.target.closest(".calculator")&&!a.target.closest("#price")&&f(ye,!1)}function Pr(){f(ye,!1)}function Xt(){const a=document.querySelector(".budget-info");if(a){const u=a.getBoundingClientRect();u.bottom+window.scrollY+10,u.left+window.scrollX,f(oe,!0)}}function Zt(){f(oe,!1)}async function Ar(a,u){if(a>0&&u)try{const x=await(await fetch("/api/add_budget.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({date:new Date().toISOString().split("T")[0],amount:a})})).json();if(x.status==="success"){const Y=(await X()).transaction("budget","readwrite"),Z={date:u,amount:a};await Y.objectStore("budget").put(Z),f(we,[...l(we),Z]),dt(a),f(oe,!1)}else console.error(x.message)}catch(v){console.error("Error adding budget:",v)}}async function Br(){const u=(await X()).transaction("budget","readonly");f(we,await u.objectStore("budget").getAll()),dt()}function dt(a){a!==void 0?be.update(u=>u+a):be.set(l(we).reduce((u,v)=>u+v.amount,0)-l(h).reduce((u,v)=>u+v.price*v.quantity,0))}function en(){const a=new EventSource("/api/budget_updates.php");a.onmessage=u=>{try{if(u.data!=="null"&&u.data!==""){const v=JSON.parse(u.data);v&&v.total!==void 0?be.set(v.total):console.warn("Invalid data received from SSE:",u.data)}else console.warn("Received null or empty data from SSE:",u.data)}catch{console.error("Invalid JSON received from SSE:",u.data)}},a.onerror=()=>{console.error("SSE connection failed."),a.close()}}tt(()=>{document.addEventListener("click",zt)}),Sn(()=>{document.removeEventListener("click",zt)}),Fo();var tn=Ts(),Qe=b(k(tn),2),Nr=b(k(Qe));W(Nr,()=>r()<0,a=>{var u=ss(),v=k(u);R(()=>K(v,`Rp ${r().toLocaleString()??""}`)),P(a,u)},a=>{var u=To();R(()=>K(u,`Rp ${r().toLocaleString()??""}`)),P(a,u)});var nn=b(Qe,2);W(nn,()=>l(j),a=>{var u=is();P(a,u)});var rn=b(nn,2);W(rn,()=>!l(m),a=>{var u=as();S("click",u,()=>f(m,!0)),P(a,u)});var on=b(rn,2);W(on,()=>l(m),a=>{var u=gs(),v=k(u),x=b(k(v),2),N=b(x,2);W(N,()=>l(i),L=>{var B=ls();S("click",B,()=>f(i,"")),P(L,B)});var Y=b(N,2);W(Y,()=>l(w),L=>{var B=cs();ke(B,5,()=>l(s),me,(Q,V)=>{var z=us(),fe=k(z),je=k(fe);R(()=>K(je,l(V).name)),S("click",fe,()=>xr(l(V).name)),P(Q,z)}),P(L,B)});var Z=b(v,2),ie=b(k(Z),2),$=b(ie,2);W($,()=>l(c),L=>{var B=fs();S("click",B,()=>f(c,"")),P(L,B)});var ce=b($,2);W(ce,()=>l(_),L=>{var B=vs();ke(B,5,()=>l(y),me,(Q,V)=>{var z=ds(),fe=k(z),je=k(fe);R(()=>K(je,l(V))),S("click",fe,()=>Er(l(V))),P(Q,z)}),P(L,B)});var M=b(Z,2),Le=k(M),ee=b(k(Le),2),vt=b(Le,2),ze=b(k(vt),2),qe=b(M,2),pt=b(k(qe),2),Re=b(qe,2);W(Re,()=>l(D),L=>{var B=ps();R(()=>Ro(B,"fade-out",!l(D))),S("click",B,Tr),P(L,B)});var Xe=b(Re,2);W(Xe,()=>l(ye),L=>{var B=ys(),Q=k(B),V=k(Q);ke(V,0,()=>[["7","8","9"],["4","5","6"],["1","2","3"],["C","0","000"]],me,(qr,Rr)=>{var cn=hs();ke(cn,5,()=>Rr,me,(jr,Ze)=>{var et=_s();const Fr=io(()=>`calc-button ${(typeof l(Ze)=="string"&&!["C","000","Del","OK"].includes(l(Ze))?"number":"")??""} svelte-xe3ykv`);var $r=k(et);R(()=>{ht(et,l(Fr)),K($r,l(Ze))}),S("click",et,()=>Qt(l(Ze))),P(jr,et)}),P(qr,cn)});var z=b(V,2),fe=k(z),je=b(fe,2);R(()=>bn(B,"style",`top: ${l(ue).top??""}; left: ${l(ue).left??""};`)),S("click",fe,()=>Qt("Del")),S("click",je,Pr),P(L,B)}),xe(x,()=>l(i),L=>f(i,L)),S("input",x,mr),S("focus",x,yr),S("blur",x,wr),xe(ie,()=>l(c),L=>f(c,L)),S("input",ie,kr),S("focus",ie,gr),S("blur",ie,br),xe(ee,()=>l(d),L=>f(d,L)),S("focus",ee,Or),S("input",ee,Lr),xe(ze,()=>l(p),L=>f(p,L)),xe(pt,()=>l(I),L=>f(I,L)),P(a,u)});var sn=b(on,4);W(sn,()=>U,a=>{var u=ws(),v=k(u);R(()=>K(v,l(J))),P(a,u)});var an=b(sn,2);ke(an,1,Cr,me,(a,u)=>{var v=xs(),x=k(v),N=k(x),Y=k(N);R(()=>K(Y,l(u)===new Date().toISOString().split("T")[0]?"Today":l(u)));var Z=b(N,2),ie=k(Z);R(()=>K(ie,`Total: Rp ${parseFloat(Dr(l(u))).toLocaleString()??""}`));var $=b(x,2);ke($,5,()=>l(h).filter(ce=>ce.date===l(u)),me,(ce,M,Le)=>{var ee=ks(),vt=k(ee),ze=k(vt);ze.textContent=`${Le+1}.`;var qe=b(ze,2),pt=k(qe),Re=b(qe,2);W(Re,()=>l(M).quantity>1,Q=>{var V=bs(),z=k(V);R(()=>K(z,l(M).quantity)),P(Q,V)});var Xe=b(Re,2),L=k(Xe);R(()=>K(L,`Rp ${(l(M).price*l(M).quantity).toLocaleString()??""}`));var B=b(Xe,2);W(B,()=>l(De)===l(M).id,Q=>{var V=ms();S("click",V,z=>{z.stopPropagation(),Ir(l(M).id)}),P(Q,V)}),R(()=>{bn(ee,"data-id",l(M).id),ht(ee,`purchased-item ${(l(F)===l(M).id?"highlighted":"")??""} svelte-xe3ykv`),K(pt,`${l(M).name??""} - ${l(M).category??""}`)}),S("click",ee,()=>Jt(l(M).id)),S("keydown",ee,Q=>Q.key==="Enter"&&Jt(l(M).id)),P(ce,ee)}),P(a,v)});var ln=b(an,2);W(ln,()=>l(oe),a=>{var u=Ss(),v=k(u),x=b(k(v),2),N=b(x,4),Y=b(N,2),Z=b(Y,4);ke(Z,5,()=>l(we),me,($,ce)=>{var M=Es(),Le=k(M);R(()=>K(Le,`${l(ce).date??""}: Rp ${l(ce).amount.toLocaleString()??""}`)),P($,M)});var ie=b(Z,2);xe(x,()=>l(se),$=>f(se,$)),xe(N,()=>l(ge),$=>f(ge,$)),S("click",Y,()=>Ar(l(se),l(ge))),S("click",ie,()=>f(oe,!1)),S("click",v,$=>$.stopPropagation()),S("keydown",v,$=>$.key==="Escape"&&Zt()),S("click",u,Zt),P(a,u)});var un=b(ln,2),Mr=k(un);R(()=>{ht(un,`network-status-indicator ${(l(Ie)?"online":"offline")??""} svelte-xe3ykv`),K(Mr,l(Ie)?"online":"offline")}),S("click",Qe,Xt),S("keydown",Qe,a=>a.key==="Enter"&&Xt()),P(e,tn),fr()}Co(Ds,{target:document.getElementById("app")});"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").then(e=>{console.log("Service Worker registered with scope: ",e.scope)},e=>{console.error("Service Worker registration failed: ",e)})});window.addEventListener("online",()=>{console.log("Network status: Online. Syncing groceries..."),syncGroceriesWithServer(),fetchPurchasedItems()});
//# sourceMappingURL=index-BbPGqDxY.js.map
